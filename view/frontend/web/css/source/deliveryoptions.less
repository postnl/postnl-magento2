/**
 *
 *          ..::..
 *     ..::::::::::::..
 *   ::'''''':''::'''''::
 *   ::..  ..:  :  ....::
 *   ::::  :::  :  :   ::
 *   ::::  :::  :  ''' ::
 *   ::::..:::..::.....::
 *     ''::::::::::::''
 *          ''::''
 *
 *
 * NOTICE OF LICENSE
 *
 * This source file is subject to the Creative Commons License.
 * It is available through the world-wide-web at this URL:
 * http://creativecommons.org/licenses/by-nc-nd/3.0/nl/deed.en_US
 * If you are unable to obtain it through the world-wide-web, please send an email
 * to servicedesk@tig.nl so we can send you a copy immediately.
 *
 * DISCLAIMER
 *
 * Do not edit or add to this file if you wish to upgrade this module to newer
 * versions in the future. If you wish to customize this module for your
 * needs please contact servicedesk@tig.nl for more information.
 *
 * @copyright   Copyright (c) Total Internet Group B.V. https://tig.nl/copyright
 * @license     http://creativecommons.org/licenses/by-nc-nd/3.0/nl/deed.en_US
 */

/* =================================================================================================================== *
/*
/* Do you want to customize the colors of the PostNL extension?
/* Colors can be overwritten by copying the variables to your own theme
/*
* =================================================================================================================== */


/*** PostNL Color Pallet ***/

@postnl-orange: #ED8C00;
@postnl-blue: #001A73;
@postnl-grey: #868681;
@postnl-white: #fff;


/*** Custom Color Pallet ***/

/* Container */
@custom-border-color: #ccc;

/* Buttons */
@custom-button-active: #eee;
@custom-button-hover: #d6d6d6;

@custom-border-radius: 3px;

/* List */
@custom-list-background: #eee;
@custom-list-background-even: #f5f5f5;
@custom-list-hover: #FFE0B2;

@custom-clock-color: #1979c3;
@custom-clock-color-hover: @postnl-blue;


/* =================================================================================================================== *
*
* TIG PostNL Magento 2 Extension
*
* =================================================================================================================== */

/* PostNL Branding Frontend */

#label_method_regular_tig_postnl {

  &:before {
    float: left;
    width: 50px;
    height: 37px;

    content: ' ';
    background-image: url(../images/postnl_logo.png) !important;
    background-position: 0 2px;
    background-repeat: no-repeat;
    background-size: auto 33px;
    margin-top: -10px;
  }
}

/* Delivery Options */
.postnl-delivery-options {
  overflow: hidden;
  width: 100%;
  max-width: 500px;

  .btn-group {
    background: @custom-button-active;
    float: left;
    width: 100%;
    border: 1px solid @custom-border-color;
    box-sizing: border-box;
    border-bottom: 0;
    border-radius: @custom-border-radius @custom-border-radius 0 0;
  }

  button {
    &.btn {
      &.btn-default {
        float: left;
        width: 50%;
        box-sizing: border-box;
        border: 0;
        background: white;
        text-align: left;
        padding: 15px;
        min-height: 60px;

        & > .pickup-date {
          font-size: 10px;
        }

        &:not(.primary) {
          box-shadow: none;
        }

        &:nth-child(1) {
          border-radius: @custom-border-radius 0 0 0;
          border-right: 0;
        }

        &:nth-child(2) {
          border-radius: 0 @custom-border-radius 0 0;
        }

        &:hover {
          background: @custom-button-hover;
        }

        &.button-active {
          background: @custom-button-active;
          border-bottom: 1px solid @custom-list-background;

          &:hover {
            color: @postnl-blue;
          }
        }

        @media screen and (min-width: 480px) {
          .data {
            float: right;
          }
        }

      }
    }
  }

  // Remove focus on radio buttons
  input.tig-postnl-delivery-radio,
  input.tig-postnl-pickup-radio {
    box-shadow: none;

    &:active, &:hover, &:focus, &:visited {
      box-shadow: none;

    }
  }


  // Delivery List + Pickup List

  .delivery,
  .pickup {

    float: left;
    width: 100%;
    background: @custom-list-background;
    border: 1px solid @custom-border-color;
    box-sizing: border-box;
    border-top: 0;

    ul, ol {
      padding: 0;
      list-style: none;

      li {
        float: left;
        width: 100%;
        box-sizing: border-box;
        margin-bottom: 0;
        position: relative;

        label {
          cursor: pointer;
          box-sizing: border-box;

          &:hover {
            background: @custom-list-hover;
          }

          &.selected-row {
            background: @custom-list-hover !important;
          }
        }

      }
    }
  }


  // Delivery List

  .delivery {
    border: 0;
    background: transparent;

    .days {
      border: 1px solid @custom-border-color;
      border-top: 0;
      overflow: hidden;
      background: @custom-list-background;

      .wrapper {
        float: left;
        width: 100%;

        &:nth-child(even) {
          background: @custom-list-background-even;
        }

        // Left Column
        strong {
          float: left;
          width: 20%;
          box-sizing: border-box;
          padding: 10px 10px 10px 15px;

          .deliverydays-day {
            text-transform: uppercase;
            display: block;
          }

          .deliverydays-date {
            font-size: 12px;
            display: block;
          }

        }

        &-fullwidth {
          ul {
            width: 100% !important;
          }
        }

        // Middle Column
        ul, ol {
          float: right;
          width: 80%;

          li {

            float: left;
            width: 100%;

            label {
              float: left;
              width: 100%;
              padding: 18px 20px 18px 20px;
            }

            @media screen and (min-width: 400px) {
              li {
                padding: 10px 100px 10px 20px;
              }
            }

            .data-container {
              display: inline-block;
              width: calc(~'100% - 40px');
            }

            .tig-postnl-delivery-radio {
              float: left;
              margin: 0 15px 0 0;
              width: 20px;
              height: 21px;
            }

            .tig-postnl-delivery-data {
              float: left;
            }

            .tig-postnl-delivery-to {
              float: left;
            }

            .tig-postnl-delivery-dash {
              float: left;
              margin: 0 3px;
            }

            .tig-postnl-delivery-from {
              float: left;
            }

            // Right Column
            .tig-postnl-delivery-option {
              float: left;
              margin-left: 37px;
              width: 100%;
              position: relative;
              color: @postnl-orange;
            }

            .tig-postnl-delivery-fee-container {
              margin-right: 10px;
              color: #333333;
              font-size: 11px;
            }

            @media screen and (min-width: 400px) {
              .data-container {
                width: calc(~'100% - 100px');
              }

              .tig-postnl-delivery-option {
                position: absolute;
                top: 18px;
                right: 15px;
                color: @postnl-orange;
                overflow: hidden;
                float: none;
                margin: auto;
                width: auto;
              }
            }
          }
        }
      }
    }

    .extra-service-container {
      border: 1px solid @custom-border-color;
      margin-top: 30px;
      background: @custom-list-background;

      .extra-service-header {
        padding: 10px 15px;
        background: @custom-border-color;

        .extra-service-label {
          font-weight: 600;
        }
      }

      .only-stated-address {
        padding: 0;
        position: relative;

        input {
          position: absolute;
          left: 15px;
          transform: translateY(-50%);
          top: 49%;
          pointer-events: none;
          z-index: 2;

          &:not([disabled]) {
            &:focus {
              box-shadow: none;
            }
          }
        }

        label {
          position: relative;
          width: 100%;
          display: block;
          box-sizing: border-box;
          padding: 0 0 0 40px;
          line-height: 65px;
          cursor: pointer;

          &:hover {
            background: #FFE0B2;
          }
        }

        .price {
          font-size: 11px;
          position: absolute;
          right: 15px;
          transform: translateY(-50%);
          top: 50%;
          pointer-events: none;

          &:before {
            content: '(+ ';
          }

          &:after {
            content: ')';
          }
        }
      }
    }

    @media screen and (max-width: 480px) {
      .days {
        .wrapper {
          strong {
            float: left;
            width: 100%;
          }

          ul, ol {
            float: right;
            width: 100%;
          }
        }
      }
    }

  }

  /* End Delivery */


  // Pickup List

  .pickup {
    .locations {
      li {
        .tig-postnl-pickup-row {
          overflow: hidden;
          display: flex;
        }

        // Left 1: Opening Hours

        .tig-postnl-pickup-hours {
          float: left;
          width: 10%;
          text-align: center;
          margin-top: 20px;

          span {
            display: none;
          }

          &-clock {
            height: 15px;
            width: 15px;
            cursor: pointer;
            fill: @custom-clock-color;

            -moz-transition: all .1s ease-in-out;
            -ms-transition: all .1s ease-in-out;
            -webkit-transition: all .1s ease-in-out;
            -o-transition: all .1s ease-in-out;
            transition: all .1s ease-in-out;

            &:hover {
              fill: @custom-clock-color-hover;

              -moz-transform: scale(1.25);
              -ms-transform: scale(1.25); /* Internet Explorer 9 */
              -webkit-transform: scale(1.25);
              -o-transform: scale(1.25);
              transform: scale(1.25);
            }
          }
        }

        // Popup
        .tig-postnl-pickup-list {
          background: white;
          float: left;
          position: relative;
          width: 100%;
          box-sizing: border-box;
          padding: 0 10px 15px 10px;

          .tig-postnl-pop-address-info {
            float: left;
            width: 100%;
            padding: 20px 10px 15px;
            border-bottom: 2px solid @custom-list-background;
            box-sizing: border-box;

            &:before {
              content: ' ';
              width: 0;
              height: 0;
              border-top: 25px solid @custom-list-background;
              border-bottom: 25px solid rgba(255, 255, 255, 0);
              border-right: 25px solid rgba(255, 255, 255, 0);
              position: absolute;
              top: -34px;
              left: calc(~'50% - 0px');
              z-index: 10;
              transform: rotate(-135deg);
            }


            .tig-postnl-pop-address-one {
              float: left;
              width: 100%;

              .tig-postnl-pop-name {
                float: left;
                width: 60%;

                font-weight: bold;
              }

              .tig-postnl-pop-city {
                float: right;
                width: 40%;
                text-align: right;
                font-weight: bold;
              }
            }

            .tig-postnl-pop-address-two {
              float: left;
              width: 70%;
            }

            .tig-postnl-pop-address-three {
              float: left;
              width: 30%;

              .tig-postnl-pop-distance {
                float: right;
              }
            }
          }

          li {
            background: none;
            padding: 10px;
            width: 33.33%;

            ul, li {
              width: 100%;
              padding: 0;
            }

            &:hover {
              background: none;
            }

            .pickup-list-day {
              font-weight: 600;
            }

            .pickup-list-time {
              padding-left: 0;
            }

          }
        }

        // Popup Even arrow
        &:nth-child(even) .tig-postnl-pickup-list .tig-postnl-pop-address-info:before {
          border-top: 25px solid @custom-list-background-even;
        }


        @media screen and (max-width: 530px) {
          .tig-postnl-pickup-list {
            li {
              width: 50%;
            }
          }
        }


        // Left 2: Distance

        .tig-postnl-distance {
          float: left;
          line-height: 58px;
          font-size: 11px;
          width: 15%;
        }


        // Middle: Pickup Address

        .tig-postnl-address-container {
          float: left;
          width: 35%;
          box-sizing: border-box;
          padding: 10px 10px 10px 0;
        }

        .tig-postnl-pickup-name {
          float: left;
          margin: 0 3px 0 0;
          width: 100%;
          font-weight: bold;
        }

        .tig-postnl-pickup-street {
          float: left;
          margin: 0 3px 0 0;
        }

        .tig-postnl-pickup-number {
          float: left;
          margin: 0 3px 0 0;
        }

        .tig-postnl-pickup-number-addition {
          float: left;
          margin: 0 3px 0 0;
        }

        .tig-postnl-pickup-city {
          float: left;
          margin: 0 3px 0 0;
        }

        // Right: Pickup Time

        label {
          padding: 10px 5px 10px 5px;
          float: right;
          width: 40%;

          .tig-postnl-pickup-radio {
            float: left;
            margin: 0 10px 0 5px;
            width: 20px;
            height: 40px;
          }

          .location-container {
            display: inline-block;
            width: calc(~'100% - 40px');

            .tig-postnl-pickup-deliver,
            .tig-postnl-pickup-early-deliver {
              line-height: 40px;
            }

            .tig-postnl-pickup-early-deliver-fee {
              font-size: 11px;
            }

            .tig-postnl-pickup-deliver {
              line-height: 20px;
              padding-top: 10px;
              display: block;
            }

            .tig-postnl-pickup-early-deliver-fee {
              font-size: 11px;
            }

            .pickup-date {
              font-weight: 600;
              text-transform: uppercase;
              font-size:11px;
              display: block;
              margin-top: 4px;
            }
          }
        }

        // Default

        &:nth-child(even) {
          background: @custom-list-background-even;
        }
      }
    }

    @media screen and (max-width: 530px) {

      .tig-postnl-pickup-hours {
        width: 15% !important;
      }

      .tig-postnl-distance {
        width: 20% !important;
      }

      .tig-postnl-address-container {
        width: 65% !important;
      }

      label {
        width: 50% !important;
        float: left !important;
      }
    }

    @media screen and (max-width: 480px) {

      label {
        width: 100% !important;

        &:hover,
        &.selected-row {
          border-radius: 0;
        }
      }
    }
  }

  /* End PickUp */
}

/* Loading Image */
.postnl-delivery-options {
  position: relative;

  .tig-postnl-loading {
    position: absolute;

    background: rgba(255, 255, 255, 0.65) url(../images/loading_1.gif) no-repeat center center;
    background-size: 60px;

    height: 100px;
    width: 100%;
    box-sizing: border-box;

    z-index: 10;
  }
}

/* =================================================================================================================== *
*
* Override Magento Narrow Shipping Table
*
* =================================================================================================================== */

#opc-shipping_method {
  #checkout-shipping-method-load {
    .table-checkout-shipping-method {
      width: 100% !important;
      max-width: 500px;

      .col-price {
        min-width: 100px;
      }

    }
  }
}
